<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">  
    <title>QR Code Generator</title>
    <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>
  <body>
      <!-- jquery -->
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<!-- jquery -->
<!-- create qr code script here.... -->
  <script src="../source/create-qr-script.js"></script>
  <!-- <script src="script.js"></script> -->
    <button onclick="history.back()" style="font-size: 20px;color: blueviolet;padding: 3px;">Back</button>
    <div class="wrapper">
      <header>
        <h1>QR Code Generator</h1>
        <p>Paste a url or enter text to create QR code</p>
      </header>
      <div class="form">
        <input type="text" id="url" placeholder="Enter text or url" oninput="invalid()">
       <input type="button" id="generatebtn" 
        value="Generate QR Code" />
       
      </div>
      <fieldset id="qr-code" style="display:none;"></fieldset>
    </div>

    <script type="text/javascript">
    let url=document.getElementById("url");
    let qrGenerationForm=document.getElementById("generatebtn");

    let qrCode;
    function generateQrCode(qrContent) {
    return new QRCode("qr-code", {
        text: qrContent,
        width: 200,
        height: 200,
        colorDark: "#000000",
        colorLight: "#ffffff",
        
    });
    }
    $('#generatebtn').attr('disabled','disabled');
    function invalid(){
      if (url.value.length === 2) {
            $('#generatebtn').removeAttr('disabled');
        }
      else{
            document.getElementById('qr-code').style.display="none";
            $('#generatebtn').attr('disabled','disabled');
    }};

    
    // Event listener for form submit event
qrGenerationForm.addEventListener("click", function (event) {
        document.getElementById('qr-code').style.display="block";
     
     let qrContentInput=url.value;
    
console.log(qrContentInput)
    let qrContent = qrContentInput;
    
    if (qrCode == null) {
//      let a=document.getElementById('qr-code').innerHTML=`<a href='in.jpeg' downlaod>link here</a>`;
// console.log(a);

        // Generate code initially
        qrCode = generateQrCode(qrContent);
    } else {
        
        // If code already generated then make
        // again using same object
        
        qrCode.makeCode(qrContent);
    }
    });
    
    </script>

  </body>
</html>